<article class="card" ng-init="instance.cap = -2">
  <button ng-click="toggleToolPanel(instance)" class="btn right">Tools</button>
  <button ng-click="hearIt(instance)" class="btn right heard heard_{{instance.heard}}" ui-if="instance.author != 'You'">heard!</button>
  <h4><a href="#/campaign/{{viewCampaign.id}}/contacts/{{instance.author}}" ng-bind="instance.author"></a></h4>
  <time ng-bind="instance.time"></time>
  <p ng-bind="instance.text" ng-click="expandReplies(instance)"></p>
  <ul class="replies">
    <li ng-repeat="comment in (instance.comments | limitTo:instance.cap)" class="reply" ng-animate="'collapse'">
      <button ng-click="hearIt(comment)" class="btn heard heard_{{comment.heard}}" ui-if="comment.author != 'You'">heard!</button>
      <h5>
        <span ui-if="comment.author != 'You'" ng-bind="comment.author"></span>
        <span ui-if="comment.author == 'You'">You</span>
      </h5>
      <p ng-bind="comment.text"></p>
    </li>
  </ul>
  <form class="reply" ng-submit="addReply(newCommentText, instance.comments)">
    <button class="btn inline" type="submit">reply</button>
    <input type="text" class="inline" name="new_comment" ng-model="newCommentText" />
  </form>
</article>